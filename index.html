<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="naver-site-verification" content="a2d6abf9a522bc21817eabf2e51ff61b7f81f530" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Convert and download YouTube videos to MP3 easily and quickly online tool." />
        <meta name="author" content="" />
        <meta name="keywords" content="YouTube, MP3, converter, download, video, audio">
        <title>YouTube to MP3 Converter - Online Tool</title>

        <!-- Google SEO Meta Tags -->
        <meta itemprop="name" content="YouTube to MP3 Converter - Online Tool">
        <meta itemprop="description" content="Convert and download YouTube videos to MP3 easily and quickly online tool.">
        <meta itemprop="image" content="https://youtubesoundmp3.com/assets/img/meta_image.png">

        <!-- Open Graph Meta Tags -->
        <meta property="og:title" content="YouTube to MP3 Converter - Online Tool">
        <meta property="og:description" content="Convert and download YouTube videos to MP3 easily and quickly online tool.">
        <meta property="og:image" content="https://youtubesoundmp3.com/assets/img/meta_image.png">
        <meta property="og:url" content="https://youtubesoundmp3.com">
        <meta property="og:type" content="website">

        <!-- Twitter Meta Tags -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="YouTube to MP3 Converter - Online Tool">
        <meta name="twitter:description" content="Convert and download YouTube videos to MP3 easily and quickly online tool.">
        <meta name="twitter:image" content="https://youtubesoundmp3.com/assets/img/meta_image.png">

        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <link href="https://fonts.googleapis.com/css2?family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;display=swap" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-YBJPRE1T4B"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-YBJPRE1T4B');
        </script>
    </head>
    <body style=" background-image: url('./assets/img/meta_image.png'); background-size: 50%; background-position: right; background-attachment: fixed;">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            var interval; // interval 변수 선언
            $('#progress').text('Progress: 0%');
            
            $(document).ready(function() {
                $('#convert-form').submit(function(event) {
                    event.preventDefault();  // 폼 기본 동작 방지
        
                    var formData = new FormData(this);
                    var linkInput = $('#link');
                    if (linkInput.val() === '') {
                        alert('Please enter a YouTube link.');
                        return;
                    }
        
                    $.ajax({
                        // url: 'http://127.0.0.1:5000/convert',
                        url: 'https://8j5ngxuajc.execute-api.ap-northeast-2.amazonaws.com/production/convert',
                        type: 'POST',
                        data: formData,
                        dataType: 'json',
                        contentType: false,
                        processData: false,
                        xhr: function() {
                            var xhr = new window.XMLHttpRequest();
                            xhr.upload.addEventListener('progress', function(event) {
                                if (event.lengthComputable) {
                                    var percent = (event.loaded / event.total) * 100;
                                    var currentProgress = 0;
                                    var increment = 1;  // 2초에 1%씩 증가
                                     interval = setInterval(function() {
                                        if (currentProgress >= 99) {
                                            clearInterval(interval);
                                        } else {
                                            currentProgress += increment;
                                            $('#progress').text('Progress: ' + currentProgress.toFixed(1) + '%');
                                        }
                                    }, 250);  // 2초 간격으로 업데이트
                                }
                            }, false);
                            return xhr;
                        },
                        success: function(response) {
                            if (response.download_link) {
                                clearInterval(interval);
                                $('#download-link').html('<a href="' + response.download_link + '">Download</a>');
                                $('#download-link').show();
                                $('#progress').text('Progress: 100%');
                                alert('Convert Success')
                            }
                        },
                        error: function(xhr, status, error) {
                            console.log(error);
                        }
                    });
                });
            });
        </script>
        <!-- Background Video-->
        <!-- <video class="bg-video" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop"><source src="assets/mp4/bg.mp4" type="video/mp4" /></video> -->
        <!-- Masthead-->
        <div class="masthead">
            <div class="masthead-content text-white">
                <div class="container-fluid px-4 px-lg-0">
                    <h1 class="fst-italic lh-1 mb-4">Youtube to mp3!<br>let's start convert & download</h1>
                    <p class="mb-5">If you enter the YouTube link and press the button, only the sound of the YouTube video will be downloaded as an mp3 file.</p>
                    <!-- * * * * * * * * * * * * * * *-->
                    <!-- * * SB Forms Contact Form * *-->
                    <!-- * * * * * * * * * * * * * * *-->
                    <!-- This form is pre-integrated with SB Forms.-->
                    <!-- To make this form functional, sign up at-->
                    <!-- https://startbootstrap.com/solution/contact-forms-->
                    <!-- to get an API token!-->
                    <form id="convert-form">
                        <!-- Email address input-->
                        <div class="row input-group-newsletter">
                            <div class="col"><input class="form-control" id="link" type="text" name="youtube_link" placeholder="Enter youtube link..." aria-label="Enter youtube link..." data-sb-validations="required" /></div>
                        </div>
                        <p class="mb-5"> </p>
                        <div class="row input-group-newsletter">
                            <div class="col-auto"><button class="btn btn-primary" id="submitButton" type="submit">Transfer & Download!</button></div>
                        </div>
                        <!-- Submit success message-->
                        <!---->
                        <!-- This is what your users will see when the form-->
                        <!-- has successfully submitted-->
                        <div id="progress" class="mb-5"></div>
                        <div id="download-link" class="mb-5" style="display: none;">
                            <a id="download-btn" href="#" download>Download</a>
                        </div>
                        <!-- Submit error message-->
                        <!---->
                        <!-- This is what your users will see when there is-->
                        <!-- an error submitting the form-->
                        <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3 mt-2">Error sending message!</div></div>
                    </form>
                    <ins class="kakao_ad_area" style="display:none;"
                        data-ad-unit = "DAN-YbeOxco5n9720pfm"
                        data-ad-width = "300"
                        data-ad-height = "250">
                    </ins>
                </div>
            </div>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyBeYVhjRO6G7KrFSh2Dji7_TSEP_d9dvgA",
              authDomain: "tomp3-83b4a.firebaseapp.com",
              projectId: "tomp3-83b4a",
              storageBucket: "tomp3-83b4a.appspot.com",
              messagingSenderId: "10657868847",
              appId: "1:10657868847:web:efae32a72eb2e97154aada",
              measurementId: "G-GXWZP5PVJV"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
        </script>
        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
        <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
        <script type="text/javascript">
            if(!wcs_add) var wcs_add = {};
            wcs_add["wa"] = "18572b4cb2894d0";
            if(window.wcs) {
            wcs_do();
            }
        </script>
    </body>
</html>
